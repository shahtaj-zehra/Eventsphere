<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organizer Dashboard - EventSphere</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <i class="fas fa-calendar-alt me-2"></i>EventSphere
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="events.html">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="media.html">Media</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="feedback.html">Feedback</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user-tie me-1"></i>Organizer User
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="organizer-dashboard.html">
                                <i class="fas fa-tachometer-alt me-2"></i>Dashboard
                            </a></li>
                            <li><a class="dropdown-item" href="profile.html">
                                <i class="fas fa-user-edit me-2"></i>Profile
                            </a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" onclick="logout()">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Dashboard Header -->
    <section class="dashboard-header py-4 mt-5 bg-light">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1 class="h3 mb-1">Organizer Dashboard</h1>
                    <p class="text-muted mb-0">Manage your events, participants, and content.</p>
                </div>
                <div class="col-md-4 text-md-end">
                    <div class="quick-actions">
                        <button class="btn btn-success me-2" data-bs-toggle="modal" data-bs-target="#createEventModal">
                            <i class="fas fa-plus me-1"></i>Create Event
                        </button>
                        <button class="btn btn-outline-primary" onclick="viewAllEvents()">
                            <i class="fas fa-calendar me-1"></i>All Events
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Content -->
    <section class="dashboard-content py-5">
        <div class="container">
            <!-- Statistics Cards -->
            <div class="row mb-5">
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="stats-card">
                        <i class="fas fa-calendar-alt"></i>
                        <h3 id="totalEvents">8</h3>
                        <p>Total Events</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="stats-card">
                        <i class="fas fa-users"></i>
                        <h3 id="totalParticipants">245</h3>
                        <p>Total Participants</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="stats-card">
                        <i class="fas fa-check-circle"></i>
                        <h3 id="completedEvents">5</h3>
                        <p>Completed Events</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="stats-card">
                        <i class="fas fa-star"></i>
                        <h3 id="avgRating">4.7</h3>
                        <p>Average Rating</p>
                    </div>
                </div>
            </div>

            <div class="row">
                <!-- Left Column -->
                <div class="col-lg-8">
                    <!-- Event Management -->
                    <div class="card dashboard-card mb-4">
                        <div class="card-header">
                            <h5 class="mb-0">
                                <i class="fas fa-calendar-check me-2"></i>Event Management
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Event</th>
                                            <th>Date</th>
                                            <th>Participants</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="eventManagementTable">
                                        <!-- Event management rows will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Registration Management -->
                    <div class="card dashboard-card mb-4">
                        <div class="card-header">
                            <h5 class="mb-0">
                                <i class="fas fa-user-check me-2"></i>Registration Management
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Participant</th>
                                            <th>Event</th>
                                            <th>Registration Date</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="registrationManagementTable">
                                        <!-- Registration management rows will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Media Upload -->
                    <div class="card dashboard-card">
                        <div class="card-header">
                            <h5 class="mb-0">
                                <i class="fas fa-cloud-upload-alt me-2"></i>Media Upload
                            </h5>
                        </div>
                        <div class="card-body">
                            <form id="mediaUploadForm">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="mediaEvent" class="form-label">Select Event</label>
                                        <select class="form-select" id="mediaEvent" required>
                                            <option value="">Choose an event...</option>
                                            <option value="Tech Conference 2024">Tech Conference 2024</option>
                                            <option value="Career Development Workshop">Career Development Workshop</option>
                                            <option value="Cultural Festival">Cultural Festival</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="mediaType" class="form-label">Media Type</label>
                                        <select class="form-select" id="mediaType" required>
                                            <option value="">Select type...</option>
                                            <option value="image">Image</option>
                                            <option value="video">Video</option>
                                            <option value="document">Document</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="mediaFiles" class="form-label">Upload Files</label>
                                    <input type="file" class="form-control" id="mediaFiles" multiple accept="image/*,video/*,.pdf,.doc,.docx">
                                    <div class="form-text">You can upload multiple files at once. Supported formats: Images, Videos, PDF, DOC, DOCX</div>
                                </div>
                                <div class="mb-3">
                                    <label for="mediaDescription" class="form-label">Description</label>
                                    <textarea class="form-control" id="mediaDescription" rows="3" placeholder="Describe the media content..."></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-upload me-2"></i>Upload Media
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="col-lg-4">
                    <!-- Quick Actions -->
                    <div class="card dashboard-card mb-4">
                        <div class="card-header">
                            <h5 class="mb-0">
                                <i class="fas fa-bolt me-2"></i>Quick Actions
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="d-grid gap-2">
                                <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#createEventModal">
                                    <i class="fas fa-plus me-2"></i>Create New Event
                                </button>
                                <button class="btn btn-outline-primary" onclick="markAttendance()">
                                    <i class="fas fa-qrcode me-2"></i>Mark Attendance
                                </button>
                                <button class="btn btn-outline-info" onclick="postAnnouncement()">
                                    <i class="fas fa-bullhorn me-2"></i>Post Announcement
                                </button>
                                <button class="btn btn-outline-warning" onclick="moderateFeedback()">
                                    <i class="fas fa-comments me-2"></i>Moderate Feedback
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="card dashboard-card mb-4">
                        <div class="card-header">
                            <h5 class="mb-0">
                                <i class="fas fa-history me-2"></i>Recent Activity
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="activity-feed" id="activityFeed">
                                <!-- Activity feed will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <!-- Event Analytics -->
                    <div class="card dashboard-card">
                        <div class="card-header">
                            <h5 class="mb-0">
                                <i class="fas fa-chart-line me-2"></i>Event Analytics
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="analytics-item mb-3">
                                <div class="d-flex justify-content-between">
                                    <span>Registration Rate</span>
                                    <strong>85%</strong>
                                </div>
                                <div class="progress mt-1">
                                    <div class="progress-bar" style="width: 85%"></div>
                                </div>
                            </div>
                            <div class="analytics-item mb-3">
                                <div class="d-flex justify-content-between">
                                    <span>Attendance Rate</span>
                                    <strong>92%</strong>
                                </div>
                                <div class="progress mt-1">
                                    <div class="progress-bar bg-success" style="width: 92%"></div>
                                </div>
                            </div>
                            <div class="analytics-item mb-3">
                                <div class="d-flex justify-content-between">
                                    <span>Satisfaction Score</span>
                                    <strong>4.7/5</strong>
                                </div>
                                <div class="progress mt-1">
                                    <div class="progress-bar bg-warning" style="width: 94%"></div>
                                </div>
                            </div>
                            <div class="analytics-item">
                                <div class="d-flex justify-content-between">
                                    <span>Media Downloads</span>
                                    <strong>156</strong>
                                </div>
                                <div class="progress mt-1">
                                    <div class="progress-bar bg-info" style="width: 78%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Create Event Modal -->
    <div class="modal fade" id="createEventModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Create New Event</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="createEventForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="eventTitle" class="form-label">Event Title *</label>
                                <input type="text" class="form-control" id="eventTitle" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="eventCategory" class="form-label">Category *</label>
                                <select class="form-select" id="eventCategory" required>
                                    <option value="">Select Category</option>
                                    <option value="Technology">Technology</option>
                                    <option value="Workshop">Workshop</option>
                                    <option value="Cultural">Cultural</option>
                                    <option value="Research">Research</option>
                                    <option value="Sports">Sports</option>
                                    <option value="Academic">Academic</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="eventDescription" class="form-label">Description *</label>
                            <textarea class="form-control" id="eventDescription" rows="3" required></textarea>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="eventDate" class="form-label">Event Date *</label>
                                <input type="date" class="form-control" id="eventDate" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="eventTime" class="form-label">Event Time *</label>
                                <input type="time" class="form-control" id="eventTime" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="eventEndTime" class="form-label">End Time *</label>
                                <input type="time" class="form-control" id="eventEndTime" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="eventVenue" class="form-label">Venue *</label>
                                <input type="text" class="form-control" id="eventVenue" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="maxParticipants" class="form-label">Max Participants *</label>
                                <input type="number" class="form-control" id="maxParticipants" min="1" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="eventPrice" class="form-label">Price</label>
                                <input type="number" class="form-control" id="eventPrice" min="0" step="0.01" placeholder="0.00 (Free)">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="eventRequirements" class="form-label">Requirements & Guidelines</label>
                            <textarea class="form-control" id="eventRequirements" rows="2" placeholder="What should participants bring? Any special requirements?"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="eventMedia" class="form-label">Event Media</label>
                            <input type="file" class="form-control" id="eventMedia" multiple accept="image/*,video/*">
                            <div class="form-text">Upload images or videos for your event</div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="createEvent()">Create Event</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Attendance Modal -->
    <div class="modal fade" id="attendanceModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Mark Attendance</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="qr-scanner-placeholder bg-light p-4 rounded mb-3">
                        <i class="fas fa-qrcode fa-4x text-muted"></i>
                    </div>
                    <p class="text-muted">Scan participant QR codes to mark attendance</p>
                    <div class="d-grid gap-2">
                        <button class="btn btn-primary" onclick="startQRScanner()">
                            <i class="fas fa-camera me-2"></i>Start QR Scanner
                        </button>
                        <button class="btn btn-outline-secondary" onclick="manualAttendance()">
                            <i class="fas fa-keyboard me-2"></i>Manual Entry
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h5><i class="fas fa-calendar-alt me-2"></i>EventSphere</h5>
                    <p class="text-muted">Connecting communities through meaningful events and experiences.</p>
                    <div class="social-links">
                        <a href="#" class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6>Quick Links</h6>
                    <ul class="list-unstyled">
                        <li><a href="events.html" class="text-muted text-decoration-none">Events</a></li>
                        <li><a href="media.html" class="text-muted text-decoration-none">Media</a></li>
                        <li><a href="feedback.html" class="text-muted text-decoration-none">Feedback</a></li>
                        <li><a href="about.html" class="text-muted text-decoration-none">About</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6>Support</h6>
                    <ul class="list-unstyled">
                        <li><a href="contact.html" class="text-muted text-decoration-none">Contact</a></li>
                        <li><a href="faq.html" class="text-muted text-decoration-none">FAQ</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Help</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Privacy</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 mb-4">
                    <h6>Newsletter</h6>
                    <p class="text-muted">Subscribe to get updates about upcoming events.</p>
                    <form class="newsletter-form">
                        <div class="input-group">
                            <input type="email" class="form-control" placeholder="Enter your email">
                            <button class="btn btn-primary" type="submit">Subscribe</button>
                        </div>
                    </form>
                </div>
            </div>
            <hr class="my-4">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0 text-muted">&copy; 2024 EventSphere. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0 text-muted">Made with <i class="fas fa-heart text-danger"></i> for the community</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
    <script>
        // Initialize organizer dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            loadSampleData();
            setupEventListeners();
            loadDashboardData();
        });
        
        // Load dashboard data
        function loadDashboardData() {
            loadEventManagement();
            loadRegistrationManagement();
            loadActivityFeed();
            updateStatistics();
        }
        
        // Load event management table
        function loadEventManagement() {
            const organizerEvents = events.filter(event => event.organizer === 'Tech Department');
            const container = document.getElementById('eventManagementTable');
            
            container.innerHTML = organizerEvents.map(event => `
                <tr>
                    <td>
                        <div class="d-flex align-items-center">
                            <div class="event-icon bg-${getStatusColor(event.status)} text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                <i class="${event.image}"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">${event.title}</h6>
                                <small class="text-muted">${event.venue}</small>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div>
                            <div>${formatDate(event.date)}</div>
                            <small class="text-muted">${event.time} - ${event.endTime}</small>
                        </div>
                    </td>
                    <td>
                        <div>
                            <div>${event.currentParticipants}/${event.maxParticipants}</div>
                            <div class="progress mt-1" style="height: 4px;">
                                <div class="progress-bar" style="width: ${(event.currentParticipants / event.maxParticipants) * 100}%"></div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <span class="badge bg-${getStatusColor(event.status)}">${event.status.charAt(0).toUpperCase() + event.status.slice(1)}</span>
                    </td>
                    <td>
                        <div class="btn-group btn-group-sm">
                            <button class="btn btn-outline-primary" onclick="editEvent(${event.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-outline-warning" onclick="rescheduleEvent(${event.id})">
                                <i class="fas fa-calendar-alt"></i>
                            </button>
                            <button class="btn btn-outline-danger" onclick="cancelEvent(${event.id})">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }
        
        // Load registration management table
        function loadRegistrationManagement() {
            const registrations = [
                { id: 1, participant: 'John Doe', event: 'Tech Conference 2024', date: '2024-03-01', status: 'approved' },
                { id: 2, participant: 'Jane Smith', event: 'Tech Conference 2024', date: '2024-03-02', status: 'pending' },
                { id: 3, participant: 'Mike Johnson', event: 'Career Development Workshop', date: '2024-03-03', status: 'approved' },
                { id: 4, participant: 'Sarah Wilson', event: 'Cultural Festival', date: '2024-03-04', status: 'rejected' }
            ];
            
            const container = document.getElementById('registrationManagementTable');
            
            container.innerHTML = registrations.map(reg => `
                <tr>
                    <td>
                        <div class="d-flex align-items-center">
                            <div class="participant-avatar bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 35px; height: 35px;">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">${reg.participant}</h6>
                            </div>
                        </div>
                    </td>
                    <td>${reg.event}</td>
                    <td>${formatDate(reg.date)}</td>
                    <td>
                        <span class="badge bg-${getRegistrationStatusColor(reg.status)}">${reg.status.charAt(0).toUpperCase() + reg.status.slice(1)}</span>
                    </td>
                    <td>
                        <div class="btn-group btn-group-sm">
                            <button class="btn btn-outline-success" onclick="approveRegistration(${reg.id})">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="btn btn-outline-danger" onclick="rejectRegistration(${reg.id})">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }
        
        // Load activity feed
        function loadActivityFeed() {
            const activities = [
                { type: 'registration', message: 'New registration for Tech Conference 2024', time: '2 hours ago' },
                { type: 'feedback', message: 'Received feedback for Career Development Workshop', time: '4 hours ago' },
                { type: 'media', message: 'Uploaded photos from Cultural Festival', time: '1 day ago' },
                { type: 'event', message: 'Created new event: AI Workshop', time: '2 days ago' }
            ];
            
            const container = document.getElementById('activityFeed');
            
            container.innerHTML = activities.map(activity => `
                <div class="activity-item d-flex align-items-start mb-3">
                    <div class="activity-icon bg-${getActivityColor(activity.type)} text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 35px; height: 35px;">
                        <i class="fas fa-${getActivityIcon(activity.type)}"></i>
                    </div>
                    <div class="activity-content">
                        <p class="mb-1 small">${activity.message}</p>
                        <small class="text-muted">${activity.time}</small>
                    </div>
                </div>
            `).join('');
        }
        
        // Update statistics
        function updateStatistics() {
            const totalEvents = events.filter(event => event.organizer === 'Tech Department').length;
            const totalParticipants = events.reduce((sum, event) => sum + event.currentParticipants, 0);
            const completedEvents = events.filter(event => event.status === 'completed').length;
            const avgRating = 4.7; // Mock data
            
            document.getElementById('totalEvents').textContent = totalEvents;
            document.getElementById('totalParticipants').textContent = totalParticipants;
            document.getElementById('completedEvents').textContent = completedEvents;
            document.getElementById('avgRating').textContent = avgRating;
        }
        
        // Get registration status color
        function getRegistrationStatusColor(status) {
            const colors = {
                'approved': 'success',
                'pending': 'warning',
                'rejected': 'danger'
            };
            return colors[status] || 'secondary';
        }
        
        // Get activity color
        function getActivityColor(type) {
            const colors = {
                'registration': 'primary',
                'feedback': 'success',
                'media': 'info',
                'event': 'warning'
            };
            return colors[type] || 'secondary';
        }
        
        // Get activity icon
        function getActivityIcon(type) {
            const icons = {
                'registration': 'user-plus',
                'feedback': 'comment',
                'media': 'image',
                'event': 'calendar-plus'
            };
            return icons[type] || 'bell';
        }
        
        // Create event
        function createEvent() {
            const form = document.getElementById('createEventForm');
            const formData = new FormData(form);
            
            // Validate form
            if (!form.checkValidity()) {
                form.classList.add('was-validated');
                return;
            }
            
            showAlert('Event created successfully!', 'success');
            const modal = bootstrap.Modal.getInstance(document.getElementById('createEventModal'));
            modal.hide();
            form.reset();
            form.classList.remove('was-validated');
            
            // Reload event management table
            loadEventManagement();
            updateStatistics();
        }
        
        // Edit event
        function editEvent(eventId) {
            showAlert('Edit event functionality would open here', 'info');
        }
        
        // Reschedule event
        function rescheduleEvent(eventId) {
            showAlert('Reschedule event functionality would open here', 'info');
        }
        
        // Cancel event
        function cancelEvent(eventId) {
            if (confirm('Are you sure you want to cancel this event?')) {
                showAlert('Event cancelled successfully!', 'success');
                loadEventManagement();
                updateStatistics();
            }
        }
        
        // Approve registration
        function approveRegistration(registrationId) {
            showAlert('Registration approved!', 'success');
            loadRegistrationManagement();
        }
        
        // Reject registration
        function rejectRegistration(registrationId) {
            if (confirm('Are you sure you want to reject this registration?')) {
                showAlert('Registration rejected!', 'success');
                loadRegistrationManagement();
            }
        }
        
        // Mark attendance
        function markAttendance() {
            const modal = new bootstrap.Modal(document.getElementById('attendanceModal'));
            modal.show();
        }
        
        // Start QR scanner
        function startQRScanner() {
            showAlert('QR scanner started!', 'info');
        }
        
        // Manual attendance
        function manualAttendance() {
            showAlert('Manual attendance entry would open here', 'info');
        }
        
        // Post announcement
        function postAnnouncement() {
            showAlert('Post announcement functionality would open here', 'info');
        }
        
        // Moderate feedback
        function moderateFeedback() {
            showAlert('Feedback moderation panel would open here', 'info');
        }
        
        // View all events
        function viewAllEvents() {
            window.location.href = 'events.html';
        }
        
        // Handle media upload
        document.getElementById('mediaUploadForm').addEventListener('submit', function(e) {
            e.preventDefault();
            showAlert('Media uploaded successfully!', 'success');
            this.reset();
        });
    </script>
</body>
</html>
